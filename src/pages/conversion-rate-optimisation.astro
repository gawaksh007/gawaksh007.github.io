---
import MainLayout from "../layouts/MainLayout.astro";
import Section from "../components/sections/Section.astro";
import SectionTitle from "../components/ui/SectionTitle.astro";
import Form from "../components/ui/Form.astro";
import { Image } from "astro:assets";
import Card from "../components/ui/Card.astro";
import CROServices from "../components/sections/CROServices.astro";
import propImg from "../../src/assets/pics/proposal-pic.png";


// Value Props
const valueProps = [
  {
    title: "Data-Driven Approach",
    description: "We analyze audience insights to craft messaging that works.",
    icon: "üìä"
  },
  {
    title: "Multi-Channel Strategy",
    description: "From social media to PR, we cover all touchpoints.",
    icon: "üéØ"
  },
  {
    title: "Proven Success",
    description: "Our track record speaks for itself with impactful brand stories.",
    icon: "üèÜ"
  }
];
---
<MainLayout title="Brand Communications - Tagorithm">
  <main class="space-y-16 md:space-y-24"> <!-- Increased spacing on desktop -->

    <!-- Hero Section -->
    <section class="relative min-h-[90vh] flex items-center overflow-hidden">
      <!-- Add subtle animated shapes in background -->
      <div class="absolute inset-0 overflow-hidden">
        <div class="absolute -top-20 -left-20 w-72 h-72 bg-[#B9FF66]/20 rounded-full blur-3xl"></div>
        <div class="absolute top-40 right-20 w-96 h-96 bg-[#66FFB9]/20 rounded-full blur-3xl"></div>
      </div>
      <div class="container mx-auto px-4 relative z-10">
        <div class="flex flex-col-reverse md:flex-row items-center justify-between gap-8 md:gap-12">
          <!-- Left: Text Content -->
          <div class="w-full md:w-1/2 space-y-6 text-center md:text-left">
          <h1 class="text-4xl md:text-6xl font-bold leading-tight animate-fade-in">
              <span class="highlight">Conversion Rate Optimisation</span>
            </h1>
            <p class="text-lg md:text-xl text-gray-700 animate-fade-in-delay">
              Turn more visitors into customers through data-backed testing.
            </p>
            <div class="flex justify-center md:justify-start gap-4 animate-fade-in-delay-2">
              <a href="#contact" class="btn-primary">Get a Callback</a>
            </div>
          </div>
          <!-- Right: Image -->
          <div class="w-full md:w-1/2 flex justify-center">
            <img 
              src="/bc.png" 
              alt="Brand Communications Illustration" 
              class="w-[90%] md:w-full h-auto object-contain"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Introduction Section -->
    <Section>
      <div class="container mx-auto px-4">
        <SectionTitle sectionTitle="Your Story, Amplified" />
        <div class="flex flex-col md:flex-row items-start gap-8 mt-12 relative"> <!-- Removed mb-[-200px] and added relative -->
          <div class="md:w-1/2">
            <p class="text-xl text-left max-w-xl">
              CRO is about refining every element of the customer journey. Using A/B testing, heat mapping, and user feedback, we uncover friction points and optimize your site for maximum conversions. Our holistic approach boosts revenue without increasing ad spend.
            </p>
          </div>
          <div class="md:w-1/2 flex justify-center absolute right-0 -top-40"> <!-- Changed positioning -->
            <img 
              src="/lips.png" 
              alt="Brand Communication Illustration" 
              class="w-[270px] h-[310px] object-cover z-10"
            />
          </div>
        </div>
      </div>
    </Section>
    <div class="relative z-0"> <!-- Changed from -mt-20 to relative and z-0 -->
    <CROServices/>
    </div>

    <!-- Replace the "Not sure where to start" CTA with this Proposal Section -->
    <Section>
      <Card>
        <div class="flex flex-col md:flex-row bg-[#F3F3F3] rounded-[45px] p-[60px] relative mt-[123px] mb-[163px]">
          <div class="w-full md:w-[40%] flex flex-col gap-[26px]">
            <h2 class="text-3xl font-medium">Let's make things happen</h2>
            <p>
              Contact us today to learn more about how our digital marketing
              services can help your business grow and succeed online.
            </p>
            <button class="btn-primary">Get your free proposal</button>
          </div>
          <picture class="hidden md:flex absolute right-[-10%] lg:right-0 top-[-15%] h-[450px] items-center justify-center">
            <Image
              src={propImg}
              alt="This is an illustration"
              class="hidden md:flex lg:h-full lg:w-auto"
            />
          </picture>
        </div>
      </Card>
    </Section>


    <!-- Why Choose Tagorithm? (Value Proposition) -->
    <Section>
      <SectionTitle
        sectionTitle="Why Brands Trust Us"
        description="Proven Expertise in Brand Communications"
      />
      <div class="container mx-auto px-4">
        <!-- Update the Value Props cards -->
        <div class="grid md:grid-cols-3 gap-8 mt-12">
          {valueProps.map(prop => (
            <div class="text-center p-8 rounded-2xl border border-gray-100 hover:border-[#B9FF66] transition-all duration-300 hover:shadow-lg bg-white group">
              <div class="text-5xl mb-6 transform transition-transform group-hover:scale-110 duration-300">{prop.icon}</div>
              <h3 class="text-xl font-bold mb-3">{prop.title}</h3>
              <p class="text-gray-600 leading-relaxed">{prop.description}</p>
            </div>
          ))}
        </div>
      </div>
    </Section>

    <!-- Call-to-Action (Final Push) / Contact Form -->
    <Section id="contact">
      <div class="mb-[140px] relative">
        <SectionTitle
          sectionTitle="Contact Us"
          description="Connect with Us: Let's Discuss Your Digital Marketing Needs"
        />
        <Form />
      </div>
    </Section>

  </main>
</MainLayout>

<style>
  /* Gradient and animation styles */
  .animate-gradient-x {
    animation: gradient-x 15s ease infinite;
    background-size: 400% 400%;
  }
  @keyframes gradient-x {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }
  
  .animate-fade-in {
    animation: fade-in 1s ease-out;
  }
  .animate-fade-in-delay {
    animation: fade-in 1s ease-out 0.3s forwards;
    opacity: 0;
  }
  .animate-fade-in-delay-2 {
    animation: fade-in 1s ease-out 0.6s forwards;
    opacity: 0;
  }
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Highlight style */
  .highlight {
    background-color: white;
    color: #B9FF66; /* Green text color */
    padding: 0 0.02em;
    border-radius: 0.4em;
    text-shadow: 
      -1px -1px 0 #000,  
       1px -1px 0 #000,
      -1px  1px 0 #000,
       1px  1px 0 #000;
    -webkit-text-stroke: 0.5px black; /* For better browser compatibility */
  }

  /* Hero image container style */
  .hero-image-container {
    width: 100%;
  }

  /* Hero image style */
  .hero-image {
    width: 120%; /* Increase size by 20% */
    height: auto;
  }

  /* Loading skeleton styles */
  .image-skeleton {
    background-color: #E5E7EB; /* Instead of @apply bg-gray-200 */
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: .5;
    }
  }

  /* Typography improvements */
  h1, h2, h3, h4 {
    letter-spacing: -0.02em;
  }

  .content-text {
    color: rgb(75, 85, 99); /* Instead of @apply text-gray-600 */
    line-height: 1.75; /* Instead of @apply leading-relaxed */
    font-size: clamp(1rem, 1.5vw, 1.125rem);
  }


<style>
  .btn-primary {
    @apply inline-flex items-center justify-center bg-green text-dark font-semibold rounded-full hover:bg-[#66FFB9] transition-all duration-300;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center bg-white/10 text-white font-semibold rounded-full hover:bg-white/20 transition-all duration-300 backdrop-blur-sm;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
  }

  @keyframes float-delayed {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  .animate-float-delayed {
    animation: float 6s ease-in-out infinite;
    animation-delay: 3s;
  }
</style>
